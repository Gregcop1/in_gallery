plugin.tx_ingallery_pi1 {
	config {
		#CODE dertermine what to display, possible values : albumList, imageList
		CODE = sDEF|lDEF|CODE|vDEF
		CODE.ifEmpty = imageList

		pidList = 1
		recursive = 10
		
		templateFile = EXT:in_gallery/assets/template.html
		
		orderBy = sorting ASC
		groupBy = 
		limit = 

		effect = inouit.gallery.effect.fade
		options =  
	}
	
	displayAlbum {
		markers {
			TITLE = TEXT
			TITLE{
				field		= title 
				stdWrap.typolink{

					parameter = {$plugin.tx_ingallery_pi1.singlePid}
					parameter.ifEmpty.data = page:uid
					additionalParams = &tx_ingallery_pi1[album] = {field:uid}
					additionalParams.insertData = 1
					ATagParams = class="openAlbumOnFancyBox"
				}
			}

			DESC = TEXT
			DESC{
				field		= description 
			}

			CREATEDATE = TEXT
			CREATEDATE{
				field		= crdate
				stdWrap.strftime= Ajout√© le %d %b %Y 
			}

			PARAMS = TEXT
			PARAMS{
				value = class="item item-{field:uid}"
				insertData = 1
			}
			
			IMG = CONTENT
			IMG{
				table = tx_ingallery_image
				select{
					uidInList.fied = tx_ingallery_image_uid
					pidInList.field = pid
					leftjoin  = tx_ingallery_album on (tx_ingallery_image.uid=tx_ingallery_album.tx_ingallery_image_uid )
					andWhere = tx_ingallery_image.uid = {field:tx_ingallery_image_uid}
					andWhere.insertData = 1
				}
				renderObj = COA
				renderObj{						
				  	10 = IMAGE
				  	10{
						file{
						  	import.field = image
						  	quality = 100
							width = 280c
							height = 150m
						}
						altText.field = title
						stdWrap.typolink{
							parameter = {$plugin.tx_ingallery_pi1.singlePid}
							parameter.ifEmpty.data = page:uid
							additionalParams = &tx_ingallery_pi1[album] = {field:uid}
							additionalParams.insertData = 1
							ATagParams = class="openAlbumOnFancyBox"
						}
					}
				}
			}
		}
	}
	
	displayImage{
		markers {
			TITLE = TEXT
			TITLE{
				field 		= title
				wrap 		= <p class="title">|</p>
				required 	= 1
			}

			ALBUM_TITLE = CONTENT
			ALBUM_TITLE{
				table = tx_ingallery_album
				select{
					pidInList.field = pid
					andWhere = tx_ingallery_album.uid = {field:tx_ingallery_album_uid}
					andWhere.insertData = 1
				}
				renderObj = COA
				renderObj{						
				  	10 = TEXT
				  	10{
				  		field 		= title
				  		wrap 		= <h2>|</h2>
				  		required 	= 1
				  	}
				}
			}

			LEGEND = TEXT
			LEGEND{
				field 		= legend
				wrap 		= <p class="legend">|</p>
				required 	= 1
			}

			IMG = IMAGE
			IMG {
				file{
					import.field = image
					width = {$plugin.tx_ingallery_pi1.gallery.width}
					height = {$plugin.tx_ingallery_pi1.gallery.height}
					maxW = {$plugin.tx_ingallery_pi1.gallery.maxW}
					maxH = {$plugin.tx_ingallery_pi1.gallery.maxH}
					quality = 100
				}
				altText.field = title
				stdWrap.typolink{
					parameter.field = image
					ATagParams = class="openPicOnFancyBox itemPic_{field:uid}"
					ATagParams.insertData=1
				}
			}

			ALBUM_MINI_LIST = CONTENT
			ALBUM_MINI_LIST{
				wrap = <div class="galleryContenerMiniList"><ul class="albumMiniList">|</ul><div class="arrowsMiniContainer"></div></div>

				table = tx_ingallery_album
				select{
					uidInList.fied = tx_ingallery_album_uid
					pidInList.field = pid
					leftjoin  = tx_ingallery_image on (tx_ingallery_image.tx_ingallery_album_uid=tx_ingallery_album.uid)
					andWhere = tx_ingallery_album.uid = {field:tx_ingallery_album_uid}
					andWhere.insertData = 1
				}
				renderObj = COA
				renderObj{						
				  	wrap = <li class="itemMiniPic_{field:uid}">|</li>
				  	wrap.insertData=1
				  	10 = IMAGE
				  	10{
						file{
						  	import.field = image
						  	quality = 100
							width = 125c
							height = 80m
						}
						altText.field = title
					}
				}
			}
		}
	}
}